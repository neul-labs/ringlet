# Release configuration for ringlet
# This file configures the release.sh script

[project]
name = "ringlet"
binaries = ["ringlet", "ringletd"]
repository = "neul-labs/ccswitch"
homepage = "https://github.com/neul-labs/ccswitch"
description = "CLI orchestrator for coding agents"
license = "MIT"

[build]
# Platforms to build
platforms = ["linux-x64", "linux-arm64", "darwin-x64", "darwin-arm64", "win32-x64"]

# Create universal macOS binary (combines x64 and arm64)
macos_universal = true

# Output directory for built artifacts
dist_dir = "dist"

[publishers]
# Enable/disable specific publishers
cargo = true
npm = true
pypi = true
rubygems = true
homebrew = true
chocolatey = true
debian = true
arch = true
dmg = true
msi = true

[publishers.cargo]
# Publish crates in dependency order (with 30s wait between)
crates = ["ringlet-core", "ringlet-scripting", "ringletd", "ringlet"]
wait_between = 30

[publishers.npm]
# npm uses scoped package: @neul-labs/ringlet
scope = "@neul-labs"
package_name = "ringlet"

[publishers.pypi]
# PyPI package name
package_name = "ringlet"

[publishers.rubygems]
# RubyGems package name
package_name = "ringlet"

[publishers.homebrew]
# Homebrew tap repository
tap_repo = "neul-labs/homebrew-ringlet"
formula_name = "ringlet"

[publishers.chocolatey]
# Chocolatey package ID
package_id = "ringlet"

[publishers.debian]
# Debian package metadata
maintainer = "Neul Labs <hello@neullabs.com>"
section = "devel"
priority = "optional"

[publishers.arch]
# Arch Linux / AUR
# Note: AUR submission is manual (git push to AUR repo)
maintainer = "Neul Labs <hello@neullabs.com>"
pkgname = "ringlet"

[publishers.msi]
# Windows MSI installer
manufacturer = "Neul Labs"
# Generate this GUID once and keep it forever for upgrades
upgrade_guid = "F8A3B9D1-7E4C-4A5F-9B2E-1C6D8E3F4A5B"

[publishers.dmg]
# macOS DMG installer
# Only works on macOS hosts
volume_name = "Ringlet"
