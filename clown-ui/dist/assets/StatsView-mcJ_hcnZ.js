import{d as v,o as k,k as p,y as b,c as s,b as t,l as f,f as _,t as r,F as u,r as h,w,j as N,h as j,i as a}from"./index-CKP-FecI.js";import{_ as R}from"./LoadingSpinner.vue_vue_type_script_setup_true_lang-BF-cP9Dh.js";const $={key:0,class:"flex justify-center py-12"},C={key:1,class:"bg-red-50 dark:bg-red-900/50 text-red-700 dark:text-red-300 p-4 rounded-lg"},L={key:2,class:"space-y-6"},P={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},V={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},A={class:"text-3xl font-bold text-blue-600 mt-2"},D={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},M={class:"text-3xl font-bold text-green-600 mt-2"},O={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},U={class:"text-3xl font-bold text-purple-600 mt-2"},B={class:"bg-white dark:bg-gray-800 rounded-lg shadow"},F={key:0,class:"p-6 text-center text-gray-500 dark:text-gray-400"},S={key:1,class:"overflow-x-auto"},T={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},z={class:"divide-y divide-gray-200 dark:divide-gray-700"},E={class:"px-6 py-4 whitespace-nowrap font-medium text-gray-900 dark:text-white"},q={class:"px-6 py-4 whitespace-nowrap text-right text-gray-500 dark:text-gray-400"},G={class:"px-6 py-4 whitespace-nowrap text-right text-gray-500 dark:text-gray-400"},H={class:"px-6 py-4 whitespace-nowrap text-right font-medium text-gray-900 dark:text-white"},J={class:"bg-white dark:bg-gray-800 rounded-lg shadow"},K={key:0,class:"p-6 text-center text-gray-500 dark:text-gray-400"},Q={key:1,class:"overflow-x-auto"},W={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},X={class:"divide-y divide-gray-200 dark:divide-gray-700"},Y={class:"px-6 py-4 whitespace-nowrap font-medium text-gray-900 dark:text-white"},Z={class:"px-6 py-4 whitespace-nowrap text-right text-gray-500 dark:text-gray-400"},I={class:"px-6 py-4 whitespace-nowrap text-right text-gray-500 dark:text-gray-400"},tt={class:"bg-white dark:bg-gray-800 rounded-lg shadow"},et={key:0,class:"p-6 text-center text-gray-500 dark:text-gray-400"},st={key:1,class:"overflow-x-auto"},at={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},rt={class:"divide-y divide-gray-200 dark:divide-gray-700"},dt={class:"px-6 py-4 whitespace-nowrap"},ot={class:"px-6 py-4 whitespace-nowrap text-right text-gray-500 dark:text-gray-400"},it={class:"px-6 py-4 whitespace-nowrap text-right text-gray-500 dark:text-gray-400"},lt={class:"px-6 py-4 whitespace-nowrap text-right text-gray-500 dark:text-gray-400"},yt=v({__name:"StatsView",setup(nt){const o=p(null),y=p(!0),n=p(null);k(async()=>{await m()});async function m(){y.value=!0,n.value=null;try{o.value=await b.stats.get()}catch(d){n.value=d.message}finally{y.value=!1}}function g(d){return new Intl.NumberFormat().format(d)}function x(d){if(d<60)return`${d}s`;if(d<3600)return`${Math.floor(d/60)}m ${d%60}s`;const e=Math.floor(d/3600),c=Math.floor(d%3600/60);return`${e}h ${c}m`}return(d,e)=>{const c=j("RouterLink");return a(),s("div",null,[t("div",{class:"flex items-center justify-between mb-6"},[e[0]||(e[0]=t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Statistics",-1)),t("button",{class:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",onClick:m}," Refresh ")]),y.value?(a(),s("div",$,[_(R,{size:"lg"})])):n.value?(a(),s("div",C,r(n.value),1)):o.value?(a(),s("div",L,[t("div",P,[t("div",V,[e[1]||(e[1]=t("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Sessions",-1)),t("div",A,r(g(o.value.total_sessions)),1)]),t("div",D,[e[2]||(e[2]=t("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Runtime",-1)),t("div",M,r(x(o.value.total_runtime_secs)),1)]),t("div",O,[e[3]||(e[3]=t("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Active Agents",-1)),t("div",U,r(Object.keys(o.value.by_agent).length),1)])]),t("div",B,[e[5]||(e[5]=t("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Usage by Agent")],-1)),Object.keys(o.value.by_agent).length===0?(a(),s("div",F," No agent usage data available ")):(a(),s("div",S,[t("table",T,[e[4]||(e[4]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Agent"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Sessions"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Runtime"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Profiles")])],-1)),t("tbody",z,[(a(!0),s(u,null,h(o.value.by_agent,(i,l)=>(a(),s("tr",{key:l},[t("td",E,r(l),1),t("td",q,r(g(i.sessions)),1),t("td",G,r(x(i.runtime_secs)),1),t("td",H,r(i.profiles),1)]))),128))])])]))]),t("div",J,[e[7]||(e[7]=t("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Usage by Provider")],-1)),Object.keys(o.value.by_provider).length===0?(a(),s("div",K," No provider usage data available ")):(a(),s("div",Q,[t("table",W,[e[6]||(e[6]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Provider"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Sessions"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Runtime")])],-1)),t("tbody",X,[(a(!0),s(u,null,h(o.value.by_provider,(i,l)=>(a(),s("tr",{key:l},[t("td",Y,r(l),1),t("td",Z,r(g(i.sessions)),1),t("td",I,r(x(i.runtime_secs)),1)]))),128))])])]))]),t("div",tt,[e[9]||(e[9]=t("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Usage by Profile")],-1)),Object.keys(o.value.by_profile).length===0?(a(),s("div",et," No profile usage data available ")):(a(),s("div",st,[t("table",at,[e[8]||(e[8]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Profile"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Sessions"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Runtime"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Last Used")])],-1)),t("tbody",rt,[(a(!0),s(u,null,h(o.value.by_profile,(i,l)=>(a(),s("tr",{key:l},[t("td",dt,[_(c,{to:`/profiles/${l}`,class:"font-medium text-blue-600 hover:text-blue-700"},{default:w(()=>[N(r(l),1)]),_:2},1032,["to"])]),t("td",ot,r(g(i.sessions)),1),t("td",it,r(x(i.runtime_secs)),1),t("td",lt,r(i.last_used?new Date(i.last_used).toLocaleDateString():"-"),1)]))),128))])])]))])])):f("",!0)])}}});export{yt as default};
