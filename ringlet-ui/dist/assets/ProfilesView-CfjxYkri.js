import{d as $,u as M,o as q,c as s,b as e,f as c,g as d,t as l,F as f,r as v,w as b,k as y,j as N,h as R,m as h,l as U,p as x,v as C,q as P,s as j,i as o}from"./index-C1O0OhB3.js";import{u as B}from"./agents-DvcRERJQ.js";import{u as D}from"./providers-CauZJYJy.js";import{_ as L}from"./LoadingSpinner.vue_vue_type_script_setup_true_lang-DF471Y56.js";import{_ as E}from"./Modal.vue_vue_type_script_setup_true_lang-B6xRihxR.js";const F={key:0,class:"flex justify-center py-12"},T={key:1,class:"bg-red-50 dark:bg-red-900/50 text-red-700 dark:text-red-300 p-4 rounded-lg"},z={key:2,class:"text-center py-12"},I={key:3,class:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden"},K={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},G={class:"divide-y divide-gray-200 dark:divide-gray-700"},H={class:"px-6 py-4 whitespace-nowrap"},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},O={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},W={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},X={class:"px-6 py-4 whitespace-nowrap text-right text-sm"},Y=["onClick"],Z={key:0,class:"bg-red-50 dark:bg-red-900/50 text-red-700 dark:text-red-300 p-3 rounded-lg text-sm"},ee=["value"],te=["value"],re=["disabled"],ue=$({__name:"ProfilesView",setup(ae){const A=j(),i=M(),m=B(),k=D(),u=y(!1),p=y(!1),n=y(null),a=y({alias:"",agent_id:"",provider_id:"",api_key:""});q(async()=>{await Promise.all([i.fetchProfiles(),m.fetchAgents(),k.fetchProviders()])});function w(){a.value={alias:"",agent_id:"",provider_id:"",api_key:""},n.value=null,u.value=!0}async function _(){if(!a.value.alias||!a.value.agent_id||!a.value.provider_id){n.value="Alias, Agent, and Provider are required";return}p.value=!0,n.value=null;try{await i.createProfile({alias:a.value.alias,agent_id:a.value.agent_id,provider_id:a.value.provider_id,api_key:a.value.api_key,hooks:[],mcp_servers:[],args:[],bare:!1,proxy:!1}),u.value=!1,A.push(`/profiles/${a.value.alias}`)}catch(g){n.value=g.message}finally{p.value=!1}}async function S(g){if(confirm(`Are you sure you want to delete profile "${g}"?`))try{await i.deleteProfile(g)}catch(t){alert(t.message)}}return(g,t)=>{const V=R("RouterLink");return o(),s("div",null,[e("div",{class:"flex items-center justify-between mb-6"},[t[6]||(t[6]=e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Profiles",-1)),e("button",{class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:w}," Create Profile ")]),d(i).loading?(o(),s("div",F,[c(L,{size:"lg"})])):d(i).error?(o(),s("div",T,l(d(i).error),1)):d(i).profiles.length===0?(o(),s("div",z,[t[7]||(t[7]=e("p",{class:"text-gray-500 dark:text-gray-400"},"No profiles created yet.",-1)),e("button",{class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:w}," Create your first profile ")])):(o(),s("div",I,[e("table",K,[t[8]||(t[8]=e("thead",{class:"bg-gray-50 dark:bg-gray-900"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Alias "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Agent "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Provider "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Model "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Runs "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",G,[(o(!0),s(f,null,v(d(i).profiles,r=>(o(),s("tr",{key:r.alias,class:"hover:bg-gray-50 dark:hover:bg-gray-800/50"},[e("td",H,[c(V,{to:`/profiles/${r.alias}`,class:"text-blue-600 hover:text-blue-700 font-medium"},{default:b(()=>[N(l(r.alias),1)]),_:2},1032,["to"])]),e("td",J,l(r.agent_id),1),e("td",O,l(r.provider_id||"-"),1),e("td",Q,l(r.model||"-"),1),e("td",W,l(r.total_runs),1),e("td",X,[e("button",{class:"text-red-600 hover:text-red-700",onClick:h(se=>S(r.alias),["stop"])}," Delete ",8,Y)])]))),128))])])])),c(E,{open:u.value,title:"Create Profile",onClose:t[5]||(t[5]=r=>u.value=!1)},{footer:b(()=>[e("button",{type:"button",class:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",onClick:t[4]||(t[4]=r=>u.value=!1)}," Cancel "),e("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:p.value,onClick:_},l(p.value?"Creating...":"Create"),9,re)]),default:b(()=>[e("form",{onSubmit:h(_,["prevent"]),class:"space-y-4"},[n.value?(o(),s("div",Z,l(n.value),1)):U("",!0),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Alias ",-1)),x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>a.value.alias=r),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"my-profile",required:""},null,512),[[C,a.value.alias]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Agent ",-1)),x(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>a.value.agent_id=r),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},[t[10]||(t[10]=e("option",{value:""},"Select an agent",-1)),(o(!0),s(f,null,v(d(m).agents,r=>(o(),s("option",{key:r.id,value:r.id},l(r.name),9,ee))),128))],512),[[P,a.value.agent_id]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Provider ",-1)),x(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>a.value.provider_id=r),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},[t[12]||(t[12]=e("option",{value:""},"Select a provider",-1)),(o(!0),s(f,null,v(d(k).providers,r=>(o(),s("option",{key:r.id,value:r.id},l(r.name),9,te))),128))],512),[[P,a.value.provider_id]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," API Key ",-1)),x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>a.value.api_key=r),type:"password",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"sk-...",required:""},null,512),[[C,a.value.api_key]])])],32)]),_:1},8,["open"])])}}});export{ue as default};
